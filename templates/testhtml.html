{% load static %}
<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta charset="BG2312">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Matgen</title>
    <script src="{% static 'jquery-3.4.1/jquery-3.4.1.js' %}"></script>

    <link rel="stylesheet" href="{% static 'css/material.css' %}">
    <link href="{% static 'bootstrap-4.4.1-dist/css/bootstrap.css' %}" rel="stylesheet">

    <script src="{% static 'bootstrap-4.4.1-dist/js/bootstrap.js' %}"></script>
    <script src="{% static 'js/ChemDoodleWeb.js' %}"></script>

    <style type="text/css">
        .margin {
            margin-top: 5px;
            margin-bottom: 5px;
        }

        #basic-table td {
            text-align: center;
            vertical-align: middle;
        }
    </style>

    <script type="text/javascript">
        $(document).ready(function () {
            <!-- alert(document.cookie); -->
            <!-- alert(document.cookie.indexOf('django_language')); -->
            <!-- if (document.cookie.indexOf('django_language')==-1){ -->
            <!-- document.cookie = 'django_language = en' -->
            <!-- }; -->
            <!-- alert(document.cookie); -->

            //全选
            var isCheckAll = false;
            $("#clickall").click(function () {
                if (isCheckAll) {
                    $(".checked_cif").each(function () {
                        this.checked = false;
                    });
                    isCheckAll = false;
                } else {
                    $(".checked_cif").each(function () {
                        this.checked = true;
                    });
                    isCheckAll = true;
                }
            })

            //修改每页数据个数
            $("#change_num_per_page").click(function () {
                cururl = UrlUpdateParams(window.location.href, "page", "1");
                location.href = UrlUpdateParams(cururl, "numperpage", $('#numperpage').val());
            })

            function UrlUpdateParams(url, name, value) {
                //新添加，修改当前url，添加url参数
                var r = url;
                if (r != null && r != 'undefined' && r != "") {
                    value = encodeURIComponent(value);
                    var reg = new RegExp("(^|)" + name + "=([^&]*)(|$)");
                    var tmp = name + "=" + value;
                    if (url.match(reg) != null) {
                        r = url.replace(eval(reg), tmp);
                    } else {
                        if (url.match("[\?]")) {
                            r = url + "&" + tmp;
                        } else {
                            r = url + "?" + tmp;
                        }
                    }
                }
                return r;
            }

            //搜索按钮设置
            var timer = null;
            $(".icon").click(function () {
                clearTimeout(timer);
                var elementval;
                var val;
                var elementvalnew;
                val = $(this).attr("id");
                elementval = $("#element").val();
                timer = setTimeout(function () {
                    if (elementval == "") {
                        if (val == "~") {
                            elementvalnew = val;
                        } else {
                            elementvalnew = "";
                        }
                    } else {    //xxh新改动    加入与或非按钮功能
                        if (elementval[elementval.length - 1] == "&" ||
                            elementval[elementval.length - 1] == "|") {
                            if (val == "~") {
                                elementvalnew = elementval + val
                            } else {
                                elementvalnew = elementval
                            }
                        } else if (elementval[elementval.length - 1] == "~") {
                            elementvalnew = elementval
                        } else {
                            if (val == "~") {
                                elementvalnew = elementval + "&" + val
                            } else {
                                elementvalnew = elementval + val
                            }
                        }
                    }
                    $("#element").val(elementvalnew);
                }, 300);

            })
        });
    </script>
</head>
<body>
<div class="jumbotron bg-info jumbotron-fluid header" style="margin-bottom:0; padding:0rem 0rem">
    <div class="row">
        <h1 class="col z-index:10"
            style="margin-bottom:0; padding:3.5rem 0.5rem;text-align:center;font-weight: bold;font-size:3rem;">
            固态电解质高通量筛选平台</h1>
        <div class="header-pic" style="top:0;"></div>

        <div id="carouselExampleControls" class=" col carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="{% static 'image/llzomepsmall.png' %}" class="d-block w-30" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="{% static 'image/llzosmall.png' %}" class="d-block w-30" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="{% static 'image/nzpmepsmall.png' %}" class="d-block w-30" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="{% static 'image/nzpsmall.png' %}" class="d-block w-30" alt="...">
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
</div>
<script type="text/javascript">
    window.onscroll = function () {
        var backtop = document.documentElement.scrollTop;
        if (backtop >= 100) {
            $('a.back-to-top').show();
        } else {
            $('a.back-to-top').hide();
        }
    }
</script>
<nav class="navbar navbar-expand-sm bg-dark  navbar-dark" role="navigation">
    <a class="navbar-brand justify-content-start" href="#"><p style="font-size:24px;">主页</p></a>
    <a class="navbar-brand justify-content-start" href="https://matgen.nscc-gz.cn/index.html"><p
            style="font-size:24px;">Matgen</p></a>

    <ul class="navbar-nav justify-content-end" style="width:100%;">

        <!-- <li class="nav-item "> -->
        <!-- <a class="nav-link ">访问量：</a> -->
        <!-- </li> -->
        <li class="nav-item ">
            <a class="nav-link" href="#">查询</a>
        </li>

        <li class="nav-item"><a class="nav-link" href="/solidElectrolyte/accounts/signup/">注册</a></li>
        <li class="nav-item"><a class="nav-link" href="/solidElectrolyte/accounts/login/">登录</a></li>

        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown">
                About
            </a>
            <div class="dropdown-menu">
                <a class="dropdown-item" href="/solidElectrolyte/static/help/SPSE-UserManuals.pdf"
                   target="_blank">帮助</a>
                <a class="dropdown-item" href="/solidElectrolyte/links">Links</a>
            </div>
        </li>
        <li class="nav-item ">
            <form name="set_language" id="set_language" method="post"><input type="hidden" name="csrfmiddlewaretoken"
                                                                             value="Yf3XWBHX1WWJ5TfXEwi9LmxFfT6iAoB5WWNamcFNdaRX2OMgHLlEp9OVyp086yl7">
                <select class="form-control" id="language" name="language" style="height:38px"
                        onchange="change_language(this)">


                    <option value="en">
                        English
                    </option>

                    <option value="zh-hans" selected="selected">
                        简体中文
                    </option>

                </select>
            </form>
            <script>
                function change_language(obj) {
                    myform = document.getElementById('set_language');
                    myform.method = "POST";
                    myform.action = "/solidElectrolyte/i18n/setlang/";
                    myform.submit();
                }
            </script>
        </li>
    </ul>
</nav>


<!-- <div class="col-md-8 offset-md-2" > -->
<div class="container-fluid">
    <div align="center" style="position:absolute; left:45%; top:300px; width:120px; border:outset;z-index:999">
        <font size="2" face="bond">
            <div id="atomic_number" align=" left">Atomic No</div>
        </font>
        <font size="4"><b>
            <div id="symbol" align="center">Symbol</div>
        </b></font>
        <font size="2.5">
            <div id="name" align="center">Name</div>
        </font>
        <font size="2.5">
            <div id="atomic_mass" align="center">Atomic mass</div>
        </font>
    </div>
    <div class="col-md-auto" align="center">
        <script>
            var periodicTable = new ChemDoodle.PeriodicTableCanvas('pt', 50);
            periodicTable.click = function (evt) {
                if (this.hovered != null) {
                    var e = this.getHoveredElement();
                    $("#atomic_number").text(e.atomicNumber);
                    $("#symbol").text(e.symbol);
                    $("#name").text(e.name);
                    $("#atomic_mass").text(e.mass);
                    elementval = $("#element").val();
                    timer = setTimeout(function () {
                        if (elementval == "") {
                            elementval = e.symbol;
                        } else {
                            if (elementval[elementval.length - 1] == "&" ||
                                elementval[elementval.length - 1] == "|" ||
                                elementval[elementval.length - 1] == "~") {
                                elementval = elementval + e.symbol;
                            } else {
                                elementval = elementval + "&" + e.symbol;
                            }
                        }
                        $("#element").val(elementval);
                    }, 300);
                }
            }
        </script>
    </div>
    <!--  -->
    <div class="container-fluid" style="width:100%;">
        <form id="search_form" role="search" method="get">
            <div class="row" style="margin:5px;">
                <div class="col">
                    <div class="condition_text" style="width: 40%">
                        <input type="checkbox" id="space_group" name="condition_check1"
                               onclick="checkcondition('space_group')">
                        <label>空间群号</label>
                    </div>
                    <input type="text" class="space_group" name="space_group1" style="width: 28%" value="" disabled>
                    <span>-</span>
                    <input type="text" class="space_group" name="space_group2" style="width: 28%" value="" disabled>
                </div>
                <div class="col">
                    <div class="condition_text" style="width: 40%">
                        <input type="checkbox" id="datasource" name="condition_check2"
                               onclick="checkcondition('datasource')">
                        <label>数据来源</label>
                    </div>
                    <!-- 0604修改 -->
                    <!--                     <select id="datasource" class="datasource" name="datasource" style="width: 56%" disabled> -->
                    <!--                         <option value="icsd">icsd</option> -->
                    <!--                         <option value="custom" >custom</option> -->
                    <!--                     </select> -->
                    <input id="datasource" class="datasource" list="data_list" name="datasource" style="width: 62%"
                           value="" disabled/>
                    <datalist id="data_list">
                        <option value="icsd">
                        <option value="custom">
                    </datalist>
                </div>
                <div class="col">
                    <div class="condition_text" style="width: 40%">
                        <input type="checkbox" id="literature" name="condition_check3"
                               onclick="checkcondition('literature')">
                        <label>文献名</label>
                    </div>
                    <input type="text" class="literature" name="literature" style="width: 58%" value="" disabled>
                </div>
            </div>
            <div class="row" style="margin:5px;">
                <div class="col">
                    <div class="condition_text" style="width: 40%">
                        <input type="checkbox" id="year" name="condition_check4" onclick="checkcondition('year')">
                        <label>年份</label>
                    </div>
                    <input type="number" class="year" name="year1" value="" min="1600" style="width: 28%" disabled>
                    <span>-</span>
                    <input type="number" class="year" name="year2" value="" min="1600" style="width: 28%" disabled>
                </div>
                <div class="col">
                    <div class="condition_text" style="width: 40%">
                        <input type="checkbox" id="bvse" name="condition_check5" onclick="checkcondition('bvse')">
                        <!-- 新添加，增加维度选择 -->
                        <label>键价</label>
                    </div>
                    <select id="select_bvse" class="bvse" name="select_bvse" disabled>
                        <option value="1d">1D</option>
                        <option value="2d">2D</option>
                        <option value="3d">3D</option>
                    </select>
                    <input type="number" step="0.01" class="bvse" name="bvse1" style="width: 22%" value="" disabled>
                    <span>-</span>
                    <input type="number" step="0.01" class="bvse" name="bvse2" style="width: 23%" value="" disabled>
                </div>
                <div class="col">
                    <div class="condition_text" style="width: 40%">
                        <input type="checkbox" id="originid" name="condition_check6"
                               onclick="checkcondition('originid')">
                        <label title="ID指结构cif文件的编号">数据ID</label>
                    </div>
                    <input type="text" class="originid" name="originid" style="width: 58%" value="" disabled>
                </div>
            </div>

            <nav class="navbar bg-light navbar-dark">
                <div class="input-group-text">元素：
                    <input class="form-control mr-sm-4" placeholder="Search" type="text" name="element" id="element"
                           value=""/>

                    <button type="button" class="btn btn-primary icon" id="&">and</button>
                    <button type="button" class="btn btn-primary icon" id="|">or</button>
                    <button type="button" class="btn btn-primary icon" id="~">not</button>

                    <button id="search_submit" type="submit" class="btn btn-info">搜索</button>
                    <!-- <input id="search_submit" type="button" class="btn btn-info"  value="搜索"/> -->
                    <input type="button" class="btn btn-danger" value="清空" onClick="c()"/>
                </div>
                <script type="text/javascript">

                    function c() {
                        var element = document.getElementById("element");
                        element.value = "";
                    }
                </script>
            </nav>
        </form>
        <!-- /xxh新改动 -->
        <script>
            function checkcondition(str) {
                //判断约束条件是否可编辑
                if ($('#' + str).is(":checked") == true) {
                    $('.' + str).attr('disabled', false)
                } else {
                    $('.' + str).attr('disabled', true)
                }
            }
        </script>
    </div>
</div>
<!-- </div> -->
<!--div class="bs-docs-section"-->
<div id="sreach_results" class="container-fluid" style="width:100%;">

    <div align="center">
        <h3> 查询结果数目为0 </h3>
    </div>


</div>

<div class="row">
    <p class="text-black" style="font-size:14px;margin:auto;text-align:center">
        固态电解质高通量筛选平台, 联系邮箱：<a href="mailto:webmaster@bmaterials.cn">webmaster@bmaterials.cn</a>
    </p>
</div>
<div class="bottom_" style="">
    <img src="{% static 'image/bottom_logo.png' %}" class="bottom_logo">
    <img src="{% static 'image/shusmall.png' %}" class="bottom_logo">
</div>
<a style="position: fixed;bottom: 3em;right: 3em;text-decoration: none;color: #EEEEEE;background-color: rgba(0, 0, 0, 0.3);font-size: 12px;padding: 1em;border-radius: 3px;border: 1px solid #CCCCCC;display: none;"
   href="#" class="back-to-top">回到顶端</a>

</body>
</html>
