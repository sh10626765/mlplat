{% extends "head.html" %}
{% load static %}

{% block style %}
    <style>
        nav{
            height: 33px
        }
        .my-nav>ul>li.current>a{
            font-weight: 600;
            width: 139px;
            background-image: url({% static 'pic/navIn.png' %});
            background-size: 139px 34px;
            background-repeat: no-repeat;
        }
        .my-nav>ul>li>a{
            font-weight:600;
            width: 139px;
            background-image: url({% static 'pic/navUnin.png' %});
            background-size: 139px 34px ;
            background-repeat: no-repeat
        }
    </style>

    <style>
        .w100 .th-inner {
            width: 100px;
        }
        .panel-title>p {
            margin: 0px;
        }
    </style>
{% endblock %}


{% block body %}


    <body data-hijacking="off" data-animation="rotate"  style="background-color: rgb(242,242,242)">


    <header class="navbar-wrapper navbar-fixed-top">
        <div class="navbar navbar-black " style="background-image:  url({% static 'pic/head.jpg' %}); ">
            <div class="container cl" style="height:120px;">
                <div class="col-sm-5" style="text-align: center;">
                    <img src="{% static 'pic/logo_03.png' %}" style="width: 100%; height: auto;max-width: 100%; display: block;padding-top: 10px">
                </div>
                <div class="col-sm-7">
                    <div style="height: 87px"></div>
                    <nav class="nav navbar-nav nav-collapse my-nav" role="navigation" id="Hui-navbar">
                        <ul class="cl" style="margin: 0px;padding: 0px">
                            <li><a href="#" style=";color: rgb(117,117,117)">首页</a></li>
                            <li class="current"><a>机器学习</a></li>
                            <li><a href="#" style="color: rgb(117,117,117);">数据关联图</a></li>
                            <li><a href="#"  style=";color: rgb(117,117,117)">关于我们</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </header>

    <section class="cd-section visible" style="padding-top: 100px">
        <div style="padding-top: 40px">
            <div class="container" style="margin-top: 20px;">

                <div class="panel-group" id="accordion">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <p data-toggle="collapse" data-parent="#accordion" style="color: white">数据上传</p>
                            </h4>
                        </div>
                        <div id="collapseTwo" class="panel-collapse collapse">
                            <div class="panel-body">
                                <ul id="myTab" class="nav nav-tabs">
                                    <li class="active">
                                        <a href="#data" data-toggle="tab">
                                            数据
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#calc" data-toggle="tab">
                                            计算方法
                                        </a>
                                    </li>
                                    <li><a href="#literature" data-toggle="tab">文献</a></li>
                                        <li>
                                            <a href="#patent" data-toggle="tab">专利</a>
                                        </li>
                                </ul>
                                <div id="myTabContent" class="tab-content">
                                    <div class="tab-pane fade in active" id="data">
                                        <div class="row clearfix">

                                            <div class="col-sm-2">
                                                <ul class="nav nav-pills nav-stacked">
                                                    <li id="dataContentLi" class="active"><a >数据集内容信息</a></li>
                                                    <li id="dataUserLi" ><a >数据用户信息</a></li>
                                                    <li id="dataContactLi" ><a >数据来源信息</a></li>
                                                </ul>
                                            </div>
                                            <div class="col-sm-10">
                                                <ul id="data_tab" class="nav nav-tabs" style="display:none;">
                                                    <li class="active">
                                                        <a id="dataContentA" href="#dataContent" data-toggle="tab">
                                                            数据集内容信息
                                                        </a>
                                                    </li>
                                                    <li><a id="dataUserA" href="#dataUser" data-toggle="tab">数据用户信息</a></li>
                                                    <li><a id="dataContactA"  href="#dataContact" data-toggle="tab">数据来源信息</a></li>

                                                </ul>
                                                <div id="data_tab_content" class="tab-content">
                                                    <div class="tab-pane fade in active" id="dataContent">
                                                        <div class="row clearfix">
                                                            <form id="data_form1">
                                                                <div class="row" >
                                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">数据摘要</label>
                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" class="form-control validate[maxSize[255]] "
                                                                               placeholder="数据摘要" id="dAbstract">
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">样本数</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input type="text" value="5" class="form-control validate[required] validate[custom[number]] validate[maxSize[10]]" placeholder="m" id="dSizeM">
                                                                    </div>
                                                                    <label class="col-sm-2 control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">维度</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input value="5" type="text" class="form-control validate[required] validate[custom[number]] validate[maxSize[10]]" placeholder="n" id="dSizeN">
                                                                    </div>

                                                                </div>
                                                                <div class="row">

                                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">关键词</label>
                                                                    <div class="form-group col-md-8">
                                                                        <input value="高温合金" type="text" class="form-control validate[required] validate[maxSize[255]] 	" placeholder="关键词(多条用';'分隔)"
                                                                               id="dkeywords">
                                                                    </div>

                                                                </div>

                                                                <div class="row">
                                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">数据领域类型</label>
                                                                    <div class="form-group col-md-3">
                                                                        <span class="select-box radius mt-20" style="margin: 0px">
                                                                            <select id="domainType" class="select" size="1" name="demo2">
                                                                                <option id="sa" value="sa" selected>高温合金数据</option>
                                                                                <option id="li-lon"  value="li-lon">锂电池数据</option>
                                                                                <option id="gw"  value="gw">引力波数据</option>
                                                                                <option id="domainOther"  value="other">其他数据</option>

                                                                            </select>
                                                                        </span>
                                                                    </div>
                                                                    <label class="col-sm-2 control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">方向类型</label>
                                                                    <div class="form-group col-md-3">
                                                                          <span class="select-box radius mt-20" style="margin: 0px">
                                                                            <select id="areaType" class="select" size="1" name="demo2">
                                                                                <option id="cp1" value="cp1" selected>蠕变</option>
                                                                                <option id="d2"  value="d2">扩散</option>
                                                                                <option id="tdp3"  value="tdp3">热力学性能</option>
                                                                                <option id="mp4"  value="mp4">力学(弹性)性能</option>
                                                                                <option id="areaOther"  value="other">其他</option>

                                                                            </select>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">文件上传</label>
                                                                    <div class="formControls col-md-8">
                                                                        <span class="btn-upload form-group" style="margin: 0px;">

                                                                            <input class="input-text upload-url radius validate[required] validate[custom[originDataUpload]]" data-prompt-position="inline" type="text" id="uploadfile-2"
                                                                                   >
                                                                                    <a href="" class="btn btn-success radius upload-btn" style="color: white; padding: 0px;border: 0px">
                                                                                    <div style="width: 120px;height: 31px;
                                                                                            ;background-image:  url({% static 'pic/search_04.png' %});background-size:120px 31px ;background-repeat: no-repeat"></div>
                                                                                </a>
                                                                            <input type="file" multiple name="duploadfile" class="input-file" name="duploadfile" id="duploadfile">

                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-offset-2 control-label" style="text-align: center; padding-left: 10px">（仅支持.xls、.xlsx、.cif、.vasp文件）</label>

                                                                </div>

                                                            </form>
                                                            <div class="row ">
                                                                <div class="formControls col-sm-offset-2 col-sm-2">

                                                                </div>

                                                                <div class="formControls  col-sm-2" style="padding-left: 15px">

                                                                    <button type="button" class="btn btn-success " id="dataNextButton1"  style="height: 45px;text-align: center;padding-top: 10px">
                                                                        下一步 >
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="tab-pane fade" id="dataUser">
                                                        <div class="row clearfix">
                                                            <form id="data_form2">
                                                                <div class="row">
                                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">提交者</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input type="text" class="form-control validate[required] validate[maxSize[255]]"
                                                                               placeholder="提交者" id="dSubmissionName">
                                                                    </div>
                                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">所在单位</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input type="text" class="form-control validate[required] validate[maxSize[255]]"
                                                                               placeholder="所在单位" id="dSubmissionUnit">
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">校对者</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input type="text" class="form-control validate[maxSize[255]]"
                                                                               placeholder="校对者" id="dProofreader">
                                                                    </div>

                                                                </div>

                                                                <div class="row">
                                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">邮箱</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input value="528241661@qq.com" type="text" class="form-control validate[required] validate[maxSize[255]] validate[custom[email]]" placeholder="邮箱" id="email">
                                                                    </div>
                                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">电话</label>
                                                                    <div class="form-group col-md-3">
                                                                            <input value="18321322337" type="text" class="form-control validate[required] validate[maxSize[255]] validate[custom[phone]]" placeholder="电话" id="telephone">
                                                                    </div>

                                                                </div>

                                                                <div class="row">
                                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">通讯地址</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input type="text" class="form-control validate[required] validate[maxSize[255]]" placeholder="通讯地址" id="contactAddress">
                                                                    </div>


                                                                </div>

                                                            </form>

                                                            <div class="row ">
                                                                <div class="formControls col-sm-offset-2 col-sm-2"  style="padding-left: 15px">
                                                                    <button type="button" class="btn btn-success " id="dataPreviousButton2" style="height: 45px;text-align: center;padding-top: 10px">
                                                                        < 上一步
                                                                    </button>
                                                                </div>
                                                                <div class="formControls  col-sm-2"  style="padding-left: 15px">

                                                                    <button type="button" class="btn btn-success " id="dataNextButton2" style="height: 45px;text-align: center;padding-top: 10px">
                                                                        下一步 >
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="tab-pane fade" id="dataContact">
                                                        <div class="row clearfix">
                                                            <form id="data_form3">
                                                                <div class="row">
                                                                    <label class="col-sm-2  control-label" style="text-align: right; margin-left: 8px;dispaly: inline-block; height:35px; line-height: 35px">数据分类</label>
                                                                    <div class="form-group col-md-3" style="margin-left: 1px;">
                                                                        <span class="select-box radius mt-20" style="margin: 0px">
                                                                            <select id="div_select" class="select" size="1" name="demo2">
                                                                                <option id="exper_opt" value="1" selected>实验数据</option>
                                                                                <option id="calc_opt"  value="2">计算数据</option>
                                                                                <option id="pred_opt" value="3">预测数据</option>
                                                                            </select>
                                                                        </span>
                                                                    </div>
                                                                    <label class="col-sm-2 control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">决策属性</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input type="text" class="form-control validate[maxSize[255]] " placeholder="决策属性" id="eKeyElemColumn">
                                                                    </div>
                                                                </div>
                                                            </form>

                                                            <ul id="Huifold1" class="Huifold" style="margin:0px;">
                                                                <li class="item">
                                                                    <h4 id="exper_div" style="display: none">实验数据<b>+</b></h4>
                                                                    <div class="info" style="padding: 0px; margin-left:10px">
                                                                        <form id="exp_form">
                                                                        <div class="row">
                                                                            <label class="col-sm-2 control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">牌号</label>
                                                                            <div class="form-group col-md-3">
                                                                                <input type="text" class="form-control validate[maxSize[255]] " placeholder="牌号" id="eMaterialTrademark">
                                                                            </div>
                                                                            <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">材料名称</label>
                                                                            <div class="form-group col-md-3">
                                                                                <input type="text" class="form-control validate[maxSize[255]]" placeholder="材料名称" id="eMName">
                                                                            </div>

                                                                        </div>
                                                                        <div class="row">
                                                                            <label class="col-sm-2 control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">实验条件名称</label>
                                                                            <div class="form-group col-md-3">
                                                                                <input type="text" class="form-control validate[maxSize[255]]" placeholder="实验条件名称" id="expconName">
                                                                            </div>
                                                                            <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">实验参数设置</label>
                                                                            <div class="form-group col-md-3">
                                                                                <input type="text" class="form-control validate[maxSize[255]]" placeholder="实验参数设置" id="expParasetting">
                                                                            </div>

                                                                        </div>
                                                                        <div class="row">
                                                                            <label class="col-sm-2 control-label" style="text-align: right;padding-left: 4px; dispaly: inline-block; height:35px; line-height: 35px">实验设备名称与型号</label>
                                                                            <div class="form-group col-md-3">
                                                                                <input type="text" class="form-control validate[maxSize[255]]" placeholder="实验设备名称与型号" id="expDeviceName">
                                                                            </div>
                                                                            <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">数据来源</label>
                                                                            <div class="form-group col-md-3" style="margin-left: 1px;">
                                                                        <span class="select-box radius mt-20" style="margin: 0px">
                                                                            <select id="div_select1" class="select" size="1" name="demo2">
                                                                                <option id="exper_opt1" value="1" selected>文献</option>
                                                                                <option id="calc_opt1"  value="2">专利</option>
                                                                                <option id="pred_opt1" value="3">其他</option>
                                                                            </select>
                                                                        </span>
                                                                            </div>

                                                                        </div>
                                                                            <div class="modal fade" id="" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                                                                <div class="modal-dialog" style="width: 650px">
                                                                                    <div class="modal-content">
                                                                                        <div class="modal-header">
                                                                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                                                                            <h4 class="modal-title" id="zuozhetitle">文献关联网络</h4>
                                                                                            <button type="button" class="btn btn-default" onclick="function1()">方法关联信息</button><button type="button" class="btn btn-default" onclick="function2()">作者关联信息</button><button type="button" class="btn btn-default" onclick="function3()">数据关联信息</button>
                                                                                            <p><span style="color: #0e9aef">●</span>&ensp;作者&emsp;<span style="color: #e59729">●</span>&ensp;文献&emsp;
                                                                                            <p>该网络涵盖的内容是：核心作者的关联文献，合作者。</p>
                                                                                        </div>
                                                                                        <div class="modal-body" id="zuozheneirong">
                                                                                            <div id="zuozhe" style="width:600px;height:400px">11111</div>
                                                                                        </div>
                                                                                        <div class="modal-footer">
                                                                                            <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                                                                                        </div>
                                                                                    </div><!-- /.modal-content -->
                                                                                </div><!-- /.modal -->
                                                                            </div>
                                                                        </form>
                                                                        <div class="row ">

                                                                            <div class="formControls col-sm-offset-2 col-sm-2" style="padding-left: 15px">
                                                                                <button type="button" class="btn btn-success "
                                                                                        onclick="$('#dataUserA').click();$('#dataContactLi').removeClass('active');$('#dataUserLi').addClass('active')"
                                                                                        style="height: 45px;text-align: center;padding-top: 10px">
                                                                                   < 上一步
                                                                                </button>
                                                                            </div>
                                                                            <div class="formControls col-sm-2" style="padding-left: 15px">

                                                                                <button type="button" class="btn btn-success " id="expSubmitButton"
                                                                                        style="height: 45px;text-align: center;padding-top: 10px">
                                                                                    提交
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </li>
                                                                <li class="item">
                                                                    <h4 id="calc_div" style="display: none">计算数据<b>+</b></h4>
                                                                    <div class="info" style="padding: 0px">
                                                                        <form id="calc_form">

                                                                        <div class="row">
                                                                            <label class="col-sm-2 control-label" style="text-align: center">牌号</label>
                                                                            <div class="form-group col-md-3">
                                                                                <input type="text" class="form-control validate[maxSize[255]]  " placeholder="牌号" id="cMaterialTrademark">
                                                                            </div>
                                                                            <label class="col-sm-2  control-label" style="text-align: center">材料名称</label>
                                                                            <div class="form-group col-md-3">
                                                                                <input type="text" class="form-control validate[maxSize[255]]" placeholder="材料名称" id="cMName">
                                                                            </div>

                                                                        </div>
                                                                        <div class="row">
                                                                            <label class="col-sm-2 control-label" style="text-align: center">计算软件名称</label>
                                                                            <div class="form-group col-md-3">
                                                                                <input type="text" class="form-control validate[maxSize[255]]" placeholder="计算软件名称" id="calSoftwareName">
                                                                            </div>
                                                                            <label class="col-sm-2  control-label" style="text-align: center">软件版本号</label>
                                                                            <div class="form-group col-md-3">
                                                                                <input type="text" class="form-control validate[maxSize[255]]"  placeholder="软件版本号" id="softwareVersion">
                                                                            </div>

                                                                        </div>
                                                                        <div class="row">
                                                                            <label class="col-sm-2 control-label" style="text-align: center">计算公式名称</label>
                                                                            <div class="form-group col-md-3">
                                                                                <input type="text" class="form-control validate[maxSize[255]]" placeholder="计算公式名称" id="calFormulaName">
                                                                            </div>
                                                                            <label class="col-sm-2  control-label" style="text-align: center">计算公式出处</label>
                                                                            <div class="form-group col-md-3">
                                                                                <input type="text" class="form-control validate[maxSize[255]]" placeholder="计算公式出处" id="calFormulaSource">
                                                                            </div>

                                                                        </div>
                                                                        <div class="row">
                                                                            <label class="col-sm-2  control-label" style="text-align: center">计算结果文件</label>
                                                                            <div class="formControls col-md-8">
                                                                                <span class="btn-upload form-group" style="margin: 0px">

                                                                                    <input class="input-text upload-url radius validate[custom[originDataUpload]]" type="text" data-prompt-position="inline"
                                                                                           readonly>
                                                                                    <a href="" class="btn btn-success radius upload-btn" style="color: white; padding: 0px;border: 0px">
                                                                                    <div style="width: 120px;height: 31px;
                                                                                            ;background-image:  url({% static 'pic/search_04.png' %});background-size:120px 31px ;background-repeat: no-repeat"></div>
                                                                                </a>
                                                                                    <input type="file" multiple name="file-1" class="input-file" name="uploadfile-2"
                                                                                           id="calResultFile">

                                                                                </span>

                                                                            </div>

                                                                        </div>
                                                                            <div class="row">
                                                                                <label class="col-sm-offset-2 control-label" style="text-align: center; padding-left: 10px">（仅支持.xls、.xlsx、.csv、.cif、.vasp文件）</label>

                                                                            </div>
                                                                        </form>

                                                                        <div class="row ">
                                                                            <div class="formControls col-sm-offset-2 col-sm-2" style="padding-left: 15px">
                                                                                <button type="button" class="btn btn-success " id="dataPreviousButton3"
                                                                                        style="height: 45px;text-align: center;padding-top: 10px"
                                                                                        >
                                                                                   < 上一步
                                                                                </button>
                                                                            </div>
                                                                            <div class="formControls col-sm-2">

                                                                                <button type="button" class="btn btn-success " id="calcSubmitButton"
                                                                                        style="height: 45px;text-align: center;padding-top: 10px"
                                                                                        >
                                                                                    提交
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </li>
                                                                <li class="item">
                                                                    <h4 id="pred_div" style="display: none">预测数据<b>+</b></h4>
                                                                    <div class="info" style="padding: 0px">
                                                                        <label class="col-sm-2  control-label" style="text-align: right;dispaly: inline-block; height:35px; line-height: 35px">模型选择</label>
                                                                        <form id="pred_form">
                                                                            <div class="form-group col-md-8" style="margin-left: 1px;">
                                                                                <span class="select-box radius mt-20" style="margin: 0px">
                                                                                    <select id="model_select" class="select" size="1">
                                                                                    </select>
                                                                                </span>
                                                                            </div>
                                                                        </form>

                                                                        <div class="row ">
                                                                            <div class="formControls col-sm-offset-2 col-sm-2" style="padding-left: 15px">
                                                                                <button type="button" class="btn btn-success " id="dataPreviousButton4"
                                                                                        style="height: 45px;text-align: center;padding-top: 10px"
                                                                                >
                                                                                    < 上一步
                                                                                </button>
                                                                            </div>
                                                                            <div class="formControls col-sm-2">

                                                                                <button type="button" class="btn btn-success " id="predSubmitButton"
                                                                                        style="height: 45px;text-align: center;padding-top: 10px"
                                                                                >
                                                                                    提交
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </li>
                                                            </ul>



                                                        </div>

                                                    </div>

                                                </div>

                                            </div>
                                            </div>
                                    </div>
                                    <div class="tab-pane fade" id="calc">
                                        <div class="row clearfix">
                                            <form id="algo_form">
                                                <div class="row">
                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">算法名</label>
                                                    <div class="form-group col-md-3">
                                                        <input type="text" class="form-control  validate[required] validate[maxSize[255]] "
                                                               placeholder="算法名" id="algoName">
                                                    </div>
                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">算法领域</label>
                                                    <div class="form-group col-md-3">
                                                        <span class="select-box radius mt-20" style="margin: 0px">
                                                            <select id="cal_field" class="select" size="1" name="demo2">
                                                                <option id="ml" value="ml" selected>机器学习算法</option>
                                                                <option id="mc"  value="mc">材料计算方法</option>
                                                            </select>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">算法描述</label>
                                                    <div class="form-group col-md-8">
                                                        <input type="text" class="form-control validate[required] validate[maxSize[255]]" placeholder="算法描述" id="algoAbstract">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">上传人</label>
                                                    <div class="form-group col-md-3">
                                                        <input type="text" class="form-control validate[maxSize[255]]" placeholder="上传人" id="algoSubmission_name">
                                                    </div>
                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">算法类型</label>
                                                    <div class="form-group col-md-3">
                                                        <span class="select-box radius mt-20" style="margin: 0px">
                                                            <select id="algoType" class="select" size="1" name="demo2">
                                                                <option id="class" value="class" selected>分类</option>
                                                                <option id="cluster"  value="cluster">聚类</option>
                                                                <option id="return"  value="return">回归</option>
                                                                <option id="relation"  value="relation">关联规则</option>
                                                                <option id="optimization"  value="optimization">最优化</option>

                                                            </select>
                                                        </span>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <label class="col-sm-2  control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">文件上传</label>
                                                    <div class="formControls col-md-8">
                                                                        <span class="btn-upload form-group" style="margin: 0px;">

                                                                            <input class="input-text upload-url radius validate[required]" data-prompt-position="inline" type="text" id="algoLocationText"
                                                                            >
                                                                                <a href="" class="btn btn-success radius upload-btn" style="color: white; padding: 0px;border: 0px">
                                                                                    <div style="width: 120px;height: 31px;
                                                                                            ;background-image:  url({% static 'pic/search_04.png' %});background-size:120px 31px ;background-repeat: no-repeat"></div>
                                                                                </a>
                                                                            <input type="file" multiple name="duploadfile" class="input-file" name="duploadfile" id="algoLocation">

                                                                        </span>
                                                    </div>
                                                </div>

                                            </form>
                                            <div class="row " style="margin-top: 20px">
                                                <div class="formControls col-sm-offset-2 col-sm-2">

                                                </div>

                                                <div class="formControls  col-sm-2" style="padding-left: 15px">

                                                    <button type="button" class="btn btn-success " id="algoSubmitButton"  style="height: 45px;text-align: center;padding-top: 10px">
                                                        提交
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="tab-pane fade" id="literature">
                                        <div class="row clearfix">

                                            <div class="col-sm-2">
                                                <ul class="nav nav-pills nav-stacked">
                                                    <li id="literatureContentLi" class="active"><a >文献内容信息</a></li>
                                                    <li id="literatureAttriLi" ><a >文献属性信息</a></li>
                                                    <li id="literatureUpLi" ><a >文献上传</a></li>
                                                </ul>
                                            </div>
                                            <div class="col-sm-10">
                                                <ul id="literature_tab" class="nav nav-tabs" style="display: none">
                                                    <li class="active">
                                                        <a id="literatureContentA" href="#literatureContent" data-toggle="tab">
                                                            文献内容信息
                                                        </a>
                                                    </li>
                                                    <li><a id="literatureAttriA" href="#literatureAttri" data-toggle="tab">文献属性信息</a></li>
                                                    <li><a id="literatureUpA"  href="#literatureUp" data-toggle="tab">文献上传</a></li>

                                                </ul>
                                                <div id="dliterature_tab_content" class="tab-content">
                                                    <div class="tab-pane fade in active" id="literatureContent">
                                                        <div class="row clearfix">
                                                            <form id="literature_form1" name="literature_form" class="literature_form">
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">标题(中文)</label>
                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" onkeyup="this.value=this.value.replace(/[^\u4e00-\u9fa5]/g,'')" class="validate[required] validate[maxSize[255]]	 form-control "  id="title"
                                                                               placeholder="标题" >
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">标题(英文)</label>
                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" onKeyUp="value=value.replace(/[\W]/g,'')" class="form-control validate[required] validate[maxSize[255]]"  id="titleE"
                                                                               placeholder="title">
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">作者(中文)</label>

                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" onkeyup="this.value=this.value.replace(/[^\u4e00-\u9fa5]/g,'')" class="form-control validate[required] validate[maxSize[255]]"  id="author"
                                                                               placeholder="作者(';'分隔)">
                                                                    </div>

                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">作者(英文)</label>

                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" onKeyUp="value=value.replace(/[\W]/g,'')" class="form-control validate[required] validate[maxSize[255]]"  id="authorE"
                                                                               placeholder="author(divide with';')">
                                                                    </div>

                                                                </div>

                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">摘要(中文)</label>
                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" onkeyup="this.value=this.value.replace(/[^\u4e00-\u9fa5]/g,'')" class="form-control validate[required] validate[maxSize[800]]" placeholder="摘要" id="lAbstract" >
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">摘要(英文)</label>
                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" onKeyUp="value=value.replace(/[\W]/g,'')" class="form-control validate[required] validate[maxSize[800]]" placeholder="abstract" id="lAbstractE" >
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">关键词(中文)</label>
                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" onkeyup="this.value=this.value.replace(/[^\u4e00-\u9fa5]/g,'')" class="form-control validate[required] validate[maxSize[255]]" placeholder="关键词(';'分隔)"  id="lkeywords" >
                                                                    </div>

                                                                </div>

                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">关键词(英文)</label>
                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" onKeyUp="value=value.replace(/[\W]/g,'')" class="form-control validate[required] validate[maxSize[255]]" placeholder="keyword(divide with';')"  id="lkeywordsE" >
                                                                    </div>

                                                                </div>

                                                            </form>

                                                            <div class="row ">
                                                                <div class="formControls col-sm-offset-2 col-sm-2">

                                                                </div>

                                                                <div class="formControls  col-sm-2" style="padding-left: 15px">

                                                                    <button type="button" class="btn btn-success " id="liteNextButton1"
                                                                            style="height: 45px;text-align: center;padding-top: 10px"
                                                                            >
                                                                        下一步 >
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="tab-pane fade" id="literatureAttri">
                                                        <div class="row clearfix">
                                                            <form id="literature_form2" name="literature_form" class="literature_form">

                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">发表时间</label>
                                                                    <div class=" col-md-10">
                                                                        <div class="input-group date form_date col-md-5" data-date=""
                                                                             data-date-format="dd MM yyyy" data-link-field="dtp_input2"
                                                                             data-link-format="yyyy-mm-dd">
                                                                            <input class="form-control validate[required]" size="16" type="text" value=""
                                                                                   readonly id="publishDate" name="literature.publishDate">
                                                                            <span class="input-group-addon"><span
                                                                                class="glyphicon glyphicon-remove"></span></span>
                                                                        </div>
                                                                        <input type="hidden" id="dtp_input2" value=""/><br/>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">文章类型</label>
                                                                    <div class="form-group col-md-3">
                                                                    <span class="select-box radius mt-20" style="margin: 0px">
                                                                        <select id="referenceType" class="select" size="1" name="demo2">
                                                                            <option id="M" value="M" selected>专著</option>
                                                                            <option id="C"  value="C">论文集</option>
                                                                            <option id="N" value="N">报纸文章</option>
                                                                            <option id="J"  value="J">期刊文章</option>
                                                                            <option id="D"  value="D">学位论文</option>
                                                                            <option id="R"  value="R">报告</option>
                                                                            <option id="S"  value="S">标准</option>
                                                                            <option id="P"  value="P">专利</option>
                                                                            <option id="A"  value="A">专著或论文集中析出的文献</option>
                                                                            <option id="Z"  value="Z">其他</option>

                                                                        </select>
                                                                    </span>
                                                                    </div>
                                                                    <label class="col-sm-2 control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">研究机构</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input type="text" class="form-control " id="researchInstitute"
                                                                               placeholder="研究机构">
                                                                    </div>

                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">卷</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input type="text" class="form-control validate[required] validate[maxSize[10]] 	validate[custom[number]]" id="volume"
                                                                               placeholder="卷">
                                                                    </div>
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">期</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input type="text" class="form-control validate[required] validate[maxSize[10]] 	validate[custom[number]]" id="issue"
                                                                               placeholder="期">
                                                                    </div>

                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">DOI</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input type="text" class="form-control validate[maxSize[255]]" placeholder="DOI" id="doi">
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">材料学计算方法</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input type="text" class="form-control validate[maxSize[255]]" placeholder="材料学计算方法" id="materialMethod"  >
                                                                    </div>
                                                                    <label class="col-sm-2 control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">机器学习计算方法</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input type="text" class="form-control validate[maxSize[255]]" placeholder="机器学习计算方法" id="mlMethod">
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">起始页</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input type="text" class="form-control validate[required] validate[maxSize[10]] 	validate[custom[number]]" id="startPage"
                                                                               placeholder="起始页">
                                                                    </div>
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">终止页</label>
                                                                    <div class="form-group col-md-3">
                                                                        <input type="text" class="form-control validate[required] validate[maxSize[10]] 	validate[custom[number]]" id="endPage"
                                                                               placeholder="终止页">
                                                                    </div>
                                                                </div>
                                                            </form>

                                                            <div class="row ">
                                                                <div class="formControls col-sm-offset-2 col-sm-2"  style="padding-left: 15px">
                                                                    <button type="button" class="btn btn-success " id="litePreviousButton2"
                                                                            style="height: 45px;text-align: center;padding-top: 10px">
                                                                       < 上一步
                                                                    </button>
                                                                </div>
                                                                <div class="formControls  col-sm-2"  style="padding-left: 15px">

                                                                    <button type="button" class="btn btn-success " id="liteNextButton2"
                                                                            style="height: 45px;text-align: center;padding-top: 10px">
                                                                        下一步 >
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="tab-pane fade" id="literatureUp">
                                                        <div class="row clearfix">

                                                            <form id="literature_form3" name="literature_form" class="literature_form">
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px"·>附件上传</label>
                                                                    <div class="formControls col-md-8">
                                                                        <span class="btn-upload form-group" style="margin: 0px">

                                                                            <input class="input-text upload-url radius validate[required] validate[custom[liteUpload]]" type="text" data-prompt-position="inline"
                                                                                   >
                                                                              <a href="" class="btn btn-success radius upload-btn" style="color: white; padding: 0px;border: 0px">
                                                                                    <div style="width: 120px;height: 31px;
                                                                                            ;background-image:  url({% static 'pic/search_04.png' %});background-size:120px 31px ;background-repeat: no-repeat"></div>
                                                                                </a>
                                                                            <input type="file" multiple name="file-1" class="input-file "
                                                                                   id="lfile">
                                                                         </span>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-offset-2 control-label" style="text-align: center; padding-left: 10px">（仅支持.pdf、.doc、.docx文件）</label>

                                                                </div>

                                                            </form>

                                                            <div class="row ">
                                                                <div class="formControls col-sm-offset-2 col-sm-2" style="padding-left: 15px">
                                                                    <button type="button" class="btn btn-success " id="litePreviousButton3"
                                                                            style="height: 45px;text-align: center;padding-top: 10px"
                                                                           >
                                                                       < 上一步
                                                                    </button>
                                                                </div>
                                                                <div class="formControls col-sm-2" style="padding-left: 15px">

                                                                    <button type="button" class="btn btn-success " id="liteSubmitButton"
                                                                            style="height: 45px;text-align: center;padding-top: 10px">
                                                                        提交
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="tab-pane fade" id="patent">
                                        <div class="row clearfix">

                                            <div class="col-sm-2">
                                                <ul class="nav nav-pills nav-stacked">
                                                    <li id="patentContentInfo" class="active"><a >专利内容信息</a></li>
                                                    <li id="patentAttriInfo" ><a >专利属性信息</a></li>
                                                    <li id="patentUpLoad" ><a >专利上传</a></li>
                                                </ul>
                                            </div>
                                            <div class="col-sm-10">
                                                <ul id="patent_tab" class="nav nav-tabs" style="display: none">
                                                    <li class="active">
                                                        <a id="patentContentA" href="#patentContent" data-toggle="tab">
                                                            专利内容信息
                                                        </a>
                                                    </li>
                                                    <li><a id="patentAttriA" href="#patentAttri" data-toggle="tab">专利属性信息</a></li>
                                                    <li><a id="patentUpA"  href="#patentUp" data-toggle="tab">专利上传</a></li>

                                                </ul>
                                                <div id="dpatent_tab_content" class="tab-content">
                                                    <div class="tab-pane fade in active" id="patentContent">
                                                        <div class="row clearfix">
                                                            <form id="patent_form1" name="patent_form" class="patent_form">
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">标题(中文)</label>
                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" onkeyup="this.value=this.value.replace(/[^\u4e00-\u9fa5]/g,'')" class="validate[required] validate[maxSize[255]]	 form-control "  id="titleP"
                                                                               placeholder="标题" >
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">标题(英文)</label>
                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" onKeyUp="value=value.replace(/[\W]/g,'')" class="form-control validate[required] validate[maxSize[255]]"  id="titleEP"
                                                                               placeholder="title">
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">发明人(中文)</label>

                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" onkeyup="this.value=this.value.replace(/[^\u4e00-\u9fa5]/g,'')" class="form-control validate[required] validate[maxSize[255]]"  id="authorP"
                                                                               placeholder="发明人(';'分隔)">
                                                                    </div>

                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">发明人(英文)</label>

                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" onKeyUp="value=value.replace(/[\W]/g,'')" class="form-control validate[required] validate[maxSize[255]]"  id="authorEP"
                                                                               placeholder="author(divide with';')">
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">摘要(中文)</label>
                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" onkeyup="this.value=this.value.replace(/[^\u4e00-\u9fa5]/g,'')" class="form-control validate[required] validate[maxSize[800]]" placeholder="摘要" id="lAbstractP" >
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">摘要(英文)</label>
                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" onKeyUp="value=value.replace(/[\W]/g,'')" class="form-control validate[required] validate[maxSize[800]]" placeholder="abstract" id="lAbstractEP" >
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">关键词(中文)</label>
                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" onkeyup="this.value=this.value.replace(/[^\u4e00-\u9fa5]/g,'')" class="form-control validate[required] validate[maxSize[255]]" placeholder="关键词(';'分隔)"  id="lkeywordsP" >
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">关键词(英文)</label>
                                                                    <div class="form-group col-md-8">

                                                                        <input type="text" onKeyUp="value=value.replace(/[\W]/g,'')" class="form-control validate[required] validate[maxSize[255]]" placeholder="keyword(divide with';')"  id="lkeywordsEP" >
                                                                    </div>

                                                                </div>

                                                            </form>

                                                            <div class="row ">
                                                                <div class="formControls col-sm-offset-2 col-sm-2">

                                                                </div>

                                                                <div class="formControls  col-sm-2" style="padding-left: 15px">

                                                                    <button type="button" class="btn btn-success " id="patentNextButton1"
                                                                            style="height: 45px;text-align: center;padding-top: 10px"
                                                                    >
                                                                        下一步 >
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="tab-pane fade" id="patentAttri">
                                                        <div class="row clearfix">
                                                            <form id="patent_form2" name="patent_form" class="patent_form">

                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">发表时间</label>
                                                                    <div class=" col-md-10">
                                                                        <div class="input-group date form_date col-md-5" data-date=""
                                                                             data-date-format="dd MM yyyy" data-link-field="dtp_input2"
                                                                             data-link-format="yyyy-mm-dd">
                                                                            <input class="form-control validate[required]" size="16" type="text" value=""
                                                                                   readonly id="publishDateP" name="patent.publishDate">
                                                                            <span class="input-group-addon"><span
                                                                                    class="glyphicon glyphicon-remove"></span></span>
                                                                        </div>
                                                                        <input type="hidden" id="dtpatent_input2" value=""/><br/>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">专利编号</label>
                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" class="form-control validate[required] validate[maxSize[255]]"  id="patentNumber"
                                                                               placeholder="专利编号">
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">专利种类</label>

                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" class="form-control validate[required] validate[maxSize[255]]"  id="patentType"
                                                                               placeholder="专利种类">
                                                                    </div>

                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">专利拥有机构</label>

                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" class="form-control validate[required] validate[maxSize[255]]"  id="patentInstitute"
                                                                               placeholder="专利拥有机构">
                                                                    </div>

                                                                </div>

                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label"
                                                                           style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">申请地区</label>
                                                                    <div class="form-group col-md-8">
                                                                        <input type="text" class="form-control validate[required] validate[maxSize[800]]" placeholder="申请地区" id="patentRegion" >
                                                                    </div>
                                                                </div>
                                                            </form>

                                                            <div class="row ">
                                                                <div class="formControls col-sm-offset-2 col-sm-2"  style="padding-left: 15px">
                                                                    <button type="button" class="btn btn-success " id="patentPreviousButton2"
                                                                            style="height: 45px;text-align: center;padding-top: 10px">
                                                                        < 上一步
                                                                    </button>
                                                                </div>
                                                                <div class="formControls  col-sm-2"  style="padding-left: 15px">

                                                                    <button type="button" class="btn btn-success " id="patentNextButton2"
                                                                            style="height: 45px;text-align: center;padding-top: 10px">
                                                                        下一步 >
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="tab-pane fade" id="patentUp">
                                                        <div class="row clearfix">

                                                            <form id="patent_form3" name="patent_form" class="patent_form">
                                                                <div class="row">
                                                                    <label class="col-sm-2 control-label" style="text-align: right; dispaly: inline-block; height:35px; line-height: 35px">附件上传</label>
                                                                    <div class="formControls col-md-8">
                                                                        <span class="btn-upload form-group" style="margin: 0px">

                                                                            <input class="input-text upload-url radius validate[required] validate[custom[liteUpload]]" type="text" data-prompt-position="inline"
                                                                            >
                                                                              <a href="" class="btn btn-success radius upload-btn" style="color: white; padding: 0px;border: 0px">
                                                                                    <div style="width: 120px;height: 31px;
                                                                                            ;background-image:  url({% static 'pic/search_04.png' %});background-size:120px 31px ;background-repeat: no-repeat"></div>
                                                                                </a>
                                                                            <input type="file" multiple name="file-1" class="input-file "
                                                                                   id="lfileP">
                                                                         </span>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <label class="col-sm-offset-2 control-label" style="text-align: center; padding-left: 10px">（仅支持.pdf、.doc、.docx文件）</label>

                                                                </div>
                                                            </form>

                                                            <div class="row ">
                                                                <div class="formControls col-sm-offset-2 col-sm-2" style="padding-left: 15px">
                                                                    <button type="button" class="btn btn-success " id="patentPreviousButton3"
                                                                            style="height: 45px;text-align: center;padding-top: 10px"
                                                                    >
                                                                        < 上一步
                                                                    </button>
                                                                </div>
                                                                <div class="formControls col-sm-2" style="padding-left: 15px">

                                                                    <button type="button" class="btn btn-success " id="patentSubmitButton"
                                                                            style="height: 45px;text-align: center;padding-top: 10px">
                                                                        提交
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <p data-toggle="collapse" data-parent="#accordion"  style="color: white">
                                    上传展示
                                </p>
                            </h4>
                        </div>
                        <div id="collapseThree" class="panel-collapse collapse">
                            <div class="panel-body">

                                <ul id="dataShowTab" class="nav nav-tabs">
                                    <li class="active">
                                        <a href="#originData" data-toggle="tab">
                                            原始数据
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#dataQuality" data-toggle="tab">
                                            质量检测
                                        </a>
                                    </li>
                                </ul>
                                <div id="dataShowTabContent" class="tab-content">
                                    <div class="tab-pane fade in active" id="originData">
                                        <div class="row">
                                            <div class="col-sm-12" class="table-responsive" style="overflow:auto;">
                                                <table id="originDataTable"  class="table-responsive"></table>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-offset-8 col-sm-1">
                                                <button id="beginMLButton" type="button" class="btn btn-primary" onclick=' window.location.href="${ctx}/page/machineLearningItems"' disabled="disabled">机器学习</button>
                                            </div>
                                            <div class="col-sm-1">
                                                <button id="beginFeatureButton" type="button" class="btn btn-primary" onclick=' window.location.href="${ctx}/page/dataShow"' disabled="disabled">特征选择</button>
                                            </div>
                                            <div class="col-sm-1">
                                                <button id="beginPredictButton" type="button" class="btn btn-primary" style="display:none" disabled="disabled">开始预测</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="dataQuality">
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <table id="dataQualityTable" style="overflow-x:auto;"></table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


<script src="{% static 'static/js/velocity.min.js' %}"></script>
<script src="{% static 'static/js/velocity.ui.min.js' %}"></script>
<script src="{% static 'static/js/main.js' %}"></script>

</body>

{% endblock %}

{% block bodyscript %}

    <script type="text/javascript">
        $(function () {
            $('#collapseTwo').collapse('show')
        });

    </script>

<script>
    function ajaxFileUpload(){

        //执行上传文件操作的函数
        $.ajaxFileUpload({
            type:"post",
            url:'${pageContext.request.contextPath}/data/excel',
            secureuri:false,                           //是否启用安全提交,默认为false
            fileElementId:'excelUpload',               //文件选择框的id属性
            dataType:"text",
            //服务器返回的格式,选择json或者xml貌似有问题
            success:function(data){            //服务器响应成功时的处理函数
                if (typeof (data.error) != 'undefined') {
                    if (data.error != '') {
                        alert(data.error);
                    } else {
                        alert(data.msg);
                    }
                }
                else{
                    console.log(data);
                    alert("上传成功！");
                    updateUploadTable(data);
                }
            },
            error:function(data, status, e){ //服务器响应失败时的处理函数
                alert(e);            }
        });
    }
</script>

<script>
    $(function() {

        $("#patentNextButton1").click(function() {
            if($('#patent_form1').validationEngine('validate')){
                $('#patentAttriA').click();
                $('#patentContentInfo').removeClass('active');
                $('#patentAttriInfo').addClass('active')
            }
        });
        $("#patentNextButton2").click(function() {
            if($('#patent_form2').validationEngine('validate')) {
                $('#patentUpA').click();
                $('#patentAttriInfo').removeClass('active');
                $('#patentUpLoad').addClass('active')
            }
        });
        $("#patentPreviousButton2").click(function() {
            $('#patentContentA').click();$('#patentAttriInfo').removeClass('active');$('#patentContentInfo').addClass('active')
        });

        $("#patentPreviousButton3").click(function() {
            $('#patentAttriA').click();$('#patentUpLoad').removeClass('active');$('#patentAttriInfo').addClass('active')
        });
        $("#patentSubmitButton").click(function() {
            if($('#patent_form3').validationEngine('validate')) {
                updateUploadPatent();
            }
        });

        $("#liteNextButton1").click(function() {
            if($('#literature_form1').validationEngine('validate')){
                $('#literatureAttriA').click();
                $('#literatureContentLi').removeClass('active');
                $('#literatureAttriLi').addClass('active')
            }
        });
        $("#liteNextButton2").click(function() {
            if($('#literature_form2').validationEngine('validate')) {
                $('#literatureUpA').click();
                $('#literatureAttriLi').removeClass('active');
                $('#literatureUpLi').addClass('active')
            }
        });
        $("#litePreviousButton2").click(function() {
            $('#literatureContentA').click();$('#literatureAttriLi').removeClass('active');$('#literatureContentLi').addClass('active')
        });

        $("#litePreviousButton3").click(function() {
            $('#literatureAttriA').click();$('#literatureUpLi').removeClass('active');$('#literatureAttriLi').addClass('active')
        });
        $("#liteSubmitButton").click(function() {
            if($('#literature_form3').validationEngine('validate')) {
                updateUploadLiterature();
            }
        });

        $("#dataNextButton1").click(function() {
            if($('#data_form1').validationEngine('validate')){
                $('#dataUserA').click();
                $('#dataContentLi').removeClass('active');
                $('#dataUserLi').addClass('active')
            }
        });
        $("#dataNextButton2").click(function() {
            if($('#data_form2').validationEngine('validate')){
                $('#dataContactA').click();
                $('#dataUserLi').removeClass('active');
                $('#dataContactLi').addClass('active')
            }
        });
        $("#dataPreviousButton2").click(function() {
                $('#dataContentA').click();
                $('#dataUserLi').removeClass('active');
                $('#dataContentLi').addClass('active')

        });
        $("#dataPreviousButton3").click(function() {
                $('#dataUserA').click();
                $('#dataContactLi').removeClass('active');
                $('#dataUserLi').addClass('active')

        });
        $("#expSubmitButton").click(function() {
                if ($('#exp_form').validationEngine('validate')) {
                    updateUploadExp();
                }
        });
        $("#calcSubmitButton").click(function() {
                if ($('#calc_form').validationEngine('validate')) {
                    updateUploadCalc();
                }
        });

        $("#algoSubmitButton").click(function() {
            if ($('#algo_form').validationEngine('validate')) {
                updateUploadAlgo();
            }
        });

        $("#predSubmitButton").click(function() {
            if ($('#pred_form').validationEngine('validate')) {
                updateUploadExp();//先上传需要预测的数据集
                hideButton();//隐藏机器学习和特征选择按钮
            }
        });

        jQuery('form').validationEngine({
            maxErrorsPerField: 1
        });

        $(document).on("change", ".input-file",function() {
            var uploadVal = $(this).val();
            $(this).parent().find(".upload-url").val(uploadVal).focus().blur();
        });

        //在这处理上传文献
        function updateUploadLiterature(){
            var form=document.getElementById("literature_form");
            var fd =new FormData(form);
            console.log(fd);
            fd.append("lfile",document.getElementById("lfile").files[0]);
            fd.append("title",$('#title').val());
            fd.append("titleE",$('#titleE').val());
            fd.append("author",$('#author').val());
            fd.append("authorE",$('#authorE').val());
            fd.append("publishDate",$('#publishDate').val());
            fd.append("keywords",$('#lkeywords').val());
            fd.append("keywordsE",$('#lkeywordsE').val());
            fd.append("lAbstract",$('#lAbstract').val());
            fd.append("lAbstractE",$('#lAbstractE').val());
            fd.append("referenceType",$('#referenceType').val());
            fd.append("researchInstitute",$('#researchInstitute').val());
            fd.append("volume",$('#volume').val());
            fd.append("issue",$('#issue').val());
            fd.append("doi",$('#doi').val());
            fd.append("materialMethod",$('#materialMethod').val());
            fd.append("mlMethod",$('#mlMethod').val());
            fd.append("startPage",$('#startPage').val());
            fd.append("endPage",$('#endPage').val());

            $.ajax({
                type:"post",
                //contentType:"application/json",
                url:"${pageContext.request.contextPath}/upload/dataLiterature",
                data:fd,//JSON.stringify(allData),
                processData: false,  // 告诉jQuery不要去处理发送的数据
                contentType: false,   // 告诉jQuery不要去设置Content-Type请求头
                success:function(data){
                    console.log(data);

                    if(data=="success"){
                        alert("上传成功");
                        location.reload();
                    }
                    else{
                        alert("上传失败");
                    }
                }
            })
        }

        function updateUploadPatent(){
            var form=document.getElementById("patent_form");
            var fd =new FormData(form);
            console.log(fd);
            fd.append("lfile",document.getElementById("lfileP").files[0]);
            fd.append("title",$('#titleP').val());
            fd.append("titleE",$('#titleEP').val());
            fd.append("author",$('#authorP').val());
            fd.append("authorE",$('#authorEP').val());
            fd.append("publishDate",$('#publishDateP').val());
            fd.append("lAbstract",$('#lAbstractP').val());
            fd.append("lAbstractE",$('#lAbstractEP').val());
            fd.append("keywords",$('#lkeywordsP').val());
            fd.append("keywordsE",$('#lkeywordsEP').val());
            fd.append("patentNumber",$('#patentNumber').val());
            fd.append("patentType",$('#patentType').val());
            fd.append("patentInstitute",$('#patentInstitute').val());
            fd.append("patentRegion",$('#patentRegion').val());

            $.ajax({
                type:"post",
                //contentType:"application/json",
                url:"${pageContext.request.contextPath}/upload/dataPatent",
                data:fd,//JSON.stringify(allData),
                processData: false,  // 告诉jQuery不要去处理发送的数据
                contentType: false,   // 告诉jQuery不要去设置Content-Type请求头
                success:function(data){
                    console.log(data);

                    if(data=="success"){
                        // layer.msg("上传成功",{time:5*1000},function() {
                        //     location.reload();
                        // })
                        // layer.confirm('上传成功', function(index){
                        //     //do something
                        //     location.reload();
                        //     layer.close(index);
                        // });
                        layer.open({title: '提示',content:'文件上传成功',btn: ['确定'],
                            yes: function(index, layero){
                                location.reload();
                            }
                        });



                        // layer.alert("上传成功",{time:})

                        // alert("上传成功");
                        // location.reload();
                    }
                    else{
                        layer.open({
                            title: '警告'
                            ,content: '文件上传失败'
                        });
                        // alert("上传失败");
                    }
                }
            })
        }
    })
</script>
<script>
    function updateUploadAlgo(){
        var form=document.getElementById("algo_form");
        var fd =new FormData(form);
        console.log(fd);
        fd.append("lfile",document.getElementById("algoLocation").files[0]);
        fd.append("calField",$('#cal_field').val());
        fd.append("algoName",$('#algoName').val());
        fd.append("algoAbstract",$('#algoAbstract').val());
        fd.append("algoSubmissionName",$('#algoSubmission_name').val());
        fd.append("algoType",$('#algoType').val());

        $.ajax({
            type:"post",
            //contentType:"application/json",
            url:"${pageContext.request.contextPath}/upload/dataAlgo",
            data:fd,//JSON.stringify(allData),
            processData: false,  // 告诉jQuery不要去处理发送的数据
            contentType: false,   // 告诉jQuery不要去设置Content-Type请求头
            success:function(data){
                console.log(data);

                if(data=="success"){
                    alert("上传成功");
                    location.reload();
                }
                else{
                    alert("上传失败");
                }
            }
        })

    }
</script>
<script>
    function updateUploadExp(){
        //点击了提交按钮以后的后续操作
        if( $('#data_form').validationEngine('validate')){

            var fd =new FormData();

            fd.append("lfile",document.getElementById("duploadfile").files[0]);
            fd.append("dAbstract",$('#dAbstract').val());
            fd.append("dSubmissionName",$('#dSubmissionName').val());
            fd.append("dSubmissionUnit",$('#dSubmissionUnit').val());
            fd.append("dProofreader",$('#dProofreader').val());
            fd.append("dSizeM",$('#dSizeM').val());
            fd.append("dSizeN",$('#dSizeN').val());
            fd.append("email",$('#email').val());
            fd.append("telephoneNumber",$('#telephone').val());

            fd.append("keywords",$('#dkeywords').val());
            fd.append("contactAddress",$('#contactAddress').val());
            fd.append("domainType",$('#domainType').val());
            fd.append("areaType",$('#areaType').val());

            fd.append("materialTrademark",$('#eMaterialTrademark').val());
            fd.append("mName",$('#eMName').val());
            fd.append("expconName",$('#expconName').val());
            fd.append("expParasetting",$('#expParasetting').val());
            fd.append("expDeviceName",$('#expDeviceName').val());
            fd.append("remark",$('#remark').val());
            $('#dataQualityTable').bootstrapTable('destroy');
            $('#originDataTable').bootstrapTable('destroy');
            $('#dataQualityTable').bootstrapTable();
            $('#originDataTable').bootstrapTable();
            $('#dataQualityTable').bootstrapTable('showLoading');
            $('#originDataTable').bootstrapTable('showLoading');
            $('#collapseTwo').collapse('hide');
            $('#collapseThree').collapse('show');
            $.ajax({
                type:"post",
                //contentType:"application/json",
                url:"${pageContext.request.contextPath}/upload/dataExperiment",
                data:fd,//JSON.stringify(allData),
                processData: false,  // 告诉jQuery不要去处理发送的数据
                contentType: false,   // 告诉jQuery不要去设置Content-Type请求头
                traditional: true,
                dataType: "json",
                success:function(result){
                    var dataQuality=eval('(' + unescape(result.dataQuality.replace(/\\u/g, '%u')) + ')');
                    var dataResult=eval('(' + result.dataResult + ')');

                    console.log(dataQuality);
                    console.log(dataResult);

                    if(result.dataQuality !== "null") {//判断返回的质量检测数据是否为空，为空的话说明数据集存在字符串无法进行质量检测
                        var uplimit = {};
                        var lowlimit = {};
                        for (var i = 0; i < dataQuality[0].length; i++) {
                            uplimit[dataQuality[0][i]] = dataQuality[13][i + 1];
                            lowlimit[dataQuality[0][i]] = dataQuality[14][i + 1];

                        }
                        var editable = {type: "text"};
                        var qualityTitle = [];
                        qualityTitle[0] = {
                            title: "",
                            class: 'w100',
                            field: "dataQualityField"
                        };
                        var qualityData = [];

                        for (var i = 0; i < dataQuality[0].length; i++) {
                            qualityTitle[i + 1] = {
                                field: dataQuality[0][i],
                                class: 'w100',
                                title: $('<div/>').text(dataQuality[0][i]).html(),
                            };
                        }
                        for (var i = 1; i < dataQuality.length; i++) {
                            var temp = {};
                            temp["dataQualityField"] = dataQuality[i][0];
                            for (var j = 0; j < dataQuality[0].length; j++) {
                                temp[dataQuality[0][j]] = $('<div/>').text(dataQuality[i][j + 1]).html();
                            }
                            qualityData[i - 1] = temp;
                        }
                    }

                    var dataTitle=[];
                    var data=[];

                    for(var i=0;i<dataResult[0].length;i++){
                        dataTitle[i]={
                            field:dataResult[0][i],
                            title:$('<div/>').text(dataResult[0][i]).html(),
                            editable:editable,
                            class: 'w100',

                            cellStyle: function(value,row,index,field){
                                if (value === ''||value === undefined) {
                                    return {classes: "danger"};
                                } else if(!isNaN(Number("M")) && (Number(value)<Number(lowlimit[field])||Number(value)>Number(uplimit[field]))){
                                    return {classes: "warning"};
                                }
                                else{
                                    return{};
                                }
                            }
                        };
                    }
                    dataTitle[dataTitle.length-1].visible=false;
                    for(var i=1;i<dataResult.length;i++){
                        var temp={};
                        for(var j=0;j<dataResult[0].length;j++){
                            temp[dataResult[0][j]]= $('<div/>').text(dataResult[i][j]).html();
                        }
                        data[i-1]=temp;
                    }
                    $('#dataQualityTable').bootstrapTable('destroy');
                    $('#originDataTable').bootstrapTable('destroy');
                    $('#originDataTable').bootstrapTable({
                        pagination: true,
                        pageSize:"15",
                        columns:dataTitle,
                        data: data,
                        onEditableSave: function (field, row, oldValue, $el) {
                            var query={field:field,value:row[field],id:row._id};
                            $.ajax({
                                type:"post",
                                contentType:"application/json",
                                url:"${pageContext.request.contextPath}/upload/dataModify",
                                data:JSON.stringify(query),
                                // processData: false,  // 告诉jQuery不要去处理发送的数据
                                // contentType: false,   // 告诉jQuery不要去设置Content-Type请求头
                                traditional: true,
                                dataType: "json",
                                success:function(result){
                                }
                            })
                        },
                    });
                    if(result.dataQuality !== "null"){//判断返回的质量检测数据是否为空，为空的话说明数据集存在字符串无法进行质量检测
                        $("#dataQualityTable").bootstrapTable({
                            pagination: true,
                            pageSize:"15",
                            columns:qualityTitle,
                            data: qualityData
                        });
                    }else{
                        $("#dataQualityTable").bootstrapTable({
                            columns: [{title:"数据集中含有非法字符，无法进行质量检测"}]
                        });
                    }
                    setECode(result.eCode);
                    enableButton();
                }
            })
        }


    }
</script>
<script>
    function updateUploadCalc(){

        if( $('#data_form').validationEngine('validate')){
            var fd =new FormData();
            fd.append("lfile",document.getElementById("duploadfile").files[0]);
            fd.append("cFile",document.getElementById("calResultFile").files[0]);

            fd.append("dAbstract",$('#dAbstract').val());
            fd.append("dSubmissionName",$('#dSubmissionName').val());
            fd.append("dSubmissionUnit",$('#dSubmissionUnit').val());
            fd.append("dProofreader",$('#dProofreader').val());
            fd.append("dSizeM",$('#dSizeM').val());
            fd.append("dSizeN",$('#dSizeN').val());
            fd.append("email",$('#email').val());
            fd.append("telephoneNumber",$('#telephone').val());
            fd.append("keywords",$('#dkeywords').val());
            fd.append("contactAddress",$('#contactAddress').val());
            fd.append("domainType",$('#domainType').val());
            fd.append("areaType",$('#areaType').val());

            fd.append("materialTrademark",$('#cMaterialTrademark').val());
            fd.append("mName",$('#cMName').val());
            fd.append("calSoftwareName",$('#calSoftwareName').val());
            fd.append("softwareVersion",$('#softwareVersion').val());
            fd.append("calFormulaName",$('#calFormulaName').val());
            fd.append("calFormulaSource",$('#calFormulaSource').val());
            fd.append("calResultFile",$('#calResultFile').val());
            $('#dataQualityTable').bootstrapTable('destroy');
            $('#originDataTable').bootstrapTable('destroy');
            $('#dataQualityTable').bootstrapTable();
            $('#originDataTable').bootstrapTable();
            $('#dataQualityTable').bootstrapTable('showLoading');
            $('#originDataTable').bootstrapTable('showLoading');
            $('#collapseTwo').collapse('hide');
            $('#collapseThree').collapse('show');
            $.ajax({
                type:"post",
                //contentType:"application/json",
                url:"${pageContext.request.contextPath}/upload/dataCalc",
                data:fd,//JSON.stringify(allData),
                processData: false,  // 告诉jQuery不要去处理发送的数据
                contentType: false,   // 告诉jQuery不要去设置Content-Type请求头
                traditional: true,
                dataType: "json",
                success:function(result){
                    var dataQuality=eval('(' + unescape(result.dataQuality.replace(/\\u/g, '%u')) + ')');
                    var dataResult=eval('(' + result.dataResult + ')');

                    console.log(dataQuality);
                    console.log(dataResult);
                    var uplimit={};
                    var lowlimit={};
                    for(var i=0;i<dataQuality[0].length;i++){
                        uplimit[dataQuality[0][i]]=dataQuality[13][i+1];
                        lowlimit[dataQuality[0][i]]=dataQuality[14][i+1];

                    }
                    var editable={type:"text"};
                    var qualityTitle=[];
                    qualityTitle[0]={
                        title:"",
                        class: 'w100',
                        field:"dataQualityField"
                    };
                    var qualityData=[];

                    for(var i=0;i<dataQuality[0].length;i++){
                        qualityTitle[i+1]={
                            field:dataQuality[0][i],
                            class: 'w100',
                            title:$('<div/>').text(dataQuality[0][i]).html(),
                        };
                    }
                    for(var i=1;i<dataQuality.length;i++){
                        var temp={};
                        temp["dataQualityField"]=dataQuality[i][0];
                        for(var j=0;j<dataQuality[0].length;j++){
                            temp[dataQuality[0][j]]= $('<div/>').text(dataQuality[i][j+1]).html();
                        }
                        qualityData[i-1]=temp;
                    }

                    var dataTitle=[];
                    var data=[];

                    for(var i=0;i<dataResult[0].length;i++){
                        dataTitle[i]={
                            field:dataResult[0][i],
                            title:$('<div/>').text(dataResult[0][i]).html(),
                            editable:editable,
                            class: 'w100',

                            cellStyle: function(value,row,index,field){
                                if (value==''||value==undefined) {
                                    return {classes: "danger"};
                                }else if(Number(value)<Number(lowlimit[field])||Number(value)>Number(uplimit[field])){
                                    return {classes: "warning"};
                                }
                                else{
                                    return{};
                                }
                            }
                        };
                    }
                    for(var i=1;i<dataResult.length;i++){
                        var temp={};
                        for(var j=0;j<dataResult[0].length;j++){
                            temp[dataResult[0][j]]= $('<div/>').text(dataResult[i][j]).html();
                        }
                        data[i-1]=temp;
                    }
                    $('#dataQualityTable').bootstrapTable('destroy');
                    $('#originDataTable').bootstrapTable('destroy');
                    $('#originDataTable').bootstrapTable({
                        pagination: true,
                        pageSize:"15",
                        columns:dataTitle,
                        data: data,
                        onEditableSave: function (field, row, oldValue, $el) {
                            console.log("row:"+row+"field:"+field);
                        },
                    });
                    $("#dataQualityTable").bootstrapTable({
                        pagination: true,
                        pageSize:"15",
                        columns:qualityTitle,
                        data: qualityData,
                    });
                    setECode(result.eCode);
                    enableButton();
                }
            })
        }


    }
</script>
<script>
    function updateUploadTable(record){
        $.ajax({
            type:"get",
            url:"${pageContext.request.contextPath}/data/getData",
            data:{record:record},

            dataType:"json",
            success:function(data){
                console.log(data);
                for(var i=0;i<data.title.length;i++){
                    $('#upload-thead').append(" <th>"+data.title[i]+ "</th>");
//                    $('#attr-container').append(" <label class='checkbox-inline'> <input type='checkbox' name='attrInput' value='"+data.title[i]+"'>"+data.title[i]+ "</label>");
                }
                $('#upload-thead').append("<th>ERROR</th>");
                for(var i=0;i<data.data.length;i++){
                    var s="<tr>";
                    for(var j=0;j<data.title.length;j++){
                        var json = eval('(' + data.data[i] + ')');
                        s+= "<td>"+json[''+data.title[j]+'']+"</td>";
                    }
                    s+="<td></td>";
                    s+="</tr>";
                    $('#upload-tbody').append(s);
                }
                initUploadPage(Math.ceil(data.data.length/5));
            }
        })
    }
</script>
<script>
    $(function(){
        $.Huifold("#Huifold1 .item h4","#Huifold1 .item .info","fast",1,"click"); /*5个参数顺序不可打乱，分别是：相应区,隐藏显示的内容,速度,类型,事件*/
    });

    jQuery.Huifold = function(obj,obj_c,speed,obj_type,Event){
        if(obj_type == 2){
            $(obj+":first").find("b").html("-");
            $(obj_c+":first").show()}
        $(obj).bind(Event,function(){
            if($(this).next().is(":visible")){
                if(obj_type == 2){
                    return false}
                else{
                    $(this).next().slideUp(speed).end().removeClass("selected");
                    $(this).find("b").html("+")}
            }
            else{
                if(obj_type == 3){
                    $(this).next().slideDown(speed).end().addClass("selected");
                    $(this).find("b").html("-")}else{
                    $(obj_c).slideUp(speed);
                    $(obj).removeClass("selected");
                    $(obj).find("b").html("+");
                    $(this).next().slideDown(speed).end().addClass("selected");
                    $(this).find("b").html("-")}
            }
        })}
</script>
<script>
    $('.form_date').datetimepicker({
        language:  'fr',
        weekStart: 1,
        todayBtn:  1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        minView: 2,
        forceParse: 0,
        format:"yyyy-mm-dd"
    });


</script>
<script>


    $("select#div_select").change(function(){
         var value=$(this).val();
        if(value==1){
            $('#exper_div').click();

        }
        else if(value==2){
            $('#calc_div').click();

        }
        else if(value==3){
            $('#pred_div').click();
        }
    });


    $(function(){
        $('#exper_div').click();
    });
</script>
<script>
    $(function(){

        $.ajax({
            type:"get",
            url:"${pageContext.request.contextPath}/admin/getUser",
            data:{},
            dataType:"json",
            success:function(data){
                $("#dSubmissionName").val(data.username);
                $("#algoSubmission_name").val(data.username);
                $("#dSubmissionUnit").val(data.unit);
                $("#contact").val(data.email);
                $("#tele").val(data.contact);
                $("#contactAddress").val(data.address);

            }
        })
        $.ajax({
            type:"get",
            url:"${pageContext.request.contextPath}/admin/getModel",
            data:{username:"piki"},
            dataType:"json",
            success:function(data){
                console.log(data);
                for(var i = 0; i < data.length;i++){
                    if(data[i].algorithm_name !== 'Predict'){
                        var modelname = data[i].file_name.split('.')[0]+"_"+data[i].algorithm_name+"_model.m";
                        $("#model_select").append("<option value='"+modelname+"'>"+modelname+"</option>");
                    }
                }
            }
        })
    });
</script>

<script>
    function setECode(eCode){
        $("#beginFeatureButton").click(function(){
            window.location.href='${ctx}/page/dataShow?eCode='+eCode;
        });
        $("#beginMLButton").click(function(){
            window.location.href='${ctx}/page/machineLearningItems?eCode='+eCode;
        });
        $("#beginPredictButton").click(function(){//开始预测后直接跳到预测结果页面
            var ALG_model = $('#model_select option:selected') .val();
            window.location.href='${ctx}/page/machineLearningResult?eCode='+eCode+'&Cluster_ALG=Predict&ALG_model='+ALG_model;
        });
    }


    function enableButton() {//异步执行，在上传完数据后让机器学习和特征选择和开始预测按钮解除disabled属性
        $("#beginFeatureButton").removeAttr("disabled");
        $("#beginMLButton").removeAttr("disabled");
        $("#beginPredictButton").removeAttr("disabled");
    }

    function hideButton(){//同步执行，在进行预测的时候隐藏机器学习和特征选择按钮
        $("#beginFeatureButton").css("display","none");
        $("#beginMLButton").css("display","none");
        $("#beginPredictButton").css("display","");
    }
</script>
{% endblock %}